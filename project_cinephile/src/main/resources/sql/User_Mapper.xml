<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Config 3.0//EN" 
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.cine.user">
<!-- 회원 정보 정의할 resultMap 정의 -->
<resultMap type="UserResult" id="UserDto">
<result property="id" column="id"/>
<result property="pw" column="pw"/>
<result property="email" column="email"/>
<result property="name" column="name"/>
<result property="grade" column="grade"/>
<result property="regdate" column="regdate"/>
<result property="enabled" column="enabled"/>
</resultMap>

<select id="login" resultType="UserDto" parameterType="java.util.Map">
<![CDATA[
			select * from MINFO_USER
				where id=#{id}
					and pw=#{pw}
]]>
</select>

<select id="selectOverlappedID" parameterType="String" resultType="String">
	select decode(count(*),1, 'true',0,'false')
	from MINFO_USER
	where id=#{id}
</select>

<insert id="insertNewMember" parameterType="UserDto">
<![CDATA[
		insert into MINFO_USER(
		id,pw,email,name,grade,regdate,enabled
		)
		
		values(
		#{id},#{pw},#{email},#{name},#{grade},#{regdate},#{enabled}
		)
		
]]>
</insert>
</mapper>

